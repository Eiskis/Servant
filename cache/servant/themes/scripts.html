
<!DOCTYPE html>
<html>
	<head>

		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<style type="text/css">@-ms-viewport{width: device-width;}</style>

		<title>Servant</title>
		<link rel="shortcut icon" href="/servant/themes/default/servant.ico" type="image/x-icon"><link rel="stylesheet" href="/servant/themes/default/_reset.css" media="screen"><link rel="stylesheet" href="/servant/themes/default/defaults.css" media="screen"><link rel="stylesheet" href="/servant/themes/default/look.css" media="screen"><link rel="stylesheet" href="/servant/themes/default/mainmenu.css" media="screen"><link rel="stylesheet" href="/servant/themes/default/text.css" media="screen">
	</head>

	<body class="themes scripts">

		<div id="mainmenu">

			<div class="first">
				<ol class="plain push-left block reset"><li class="reset"><a href="/servant/read/servant/about/">About</a></li><li class="reset"><a href="/servant/read/servant/backend/">Backend</a></li><li class="reset"><a href="/servant/read/servant/get-started/">Get started</a></li><li class="reset"><a href="/servant/read/servant/sites/">Sites</a></li><li class="reset"><a href="/servant/read/servant/templates/">Templates</a></li><li class="selected"><a href="/servant/read/servant/themes/"><strong>Themes</strong></a></li><li class="reset"><a href="/servant/read/servant/tutorials/">Tutorials</a></li></ol><select class="hidden" onchange="window.open(this.options[this.selectedIndex].value,'_top')"><optgroup label="About"></optgroup><optgroup label="Backend"></optgroup><optgroup label="Get started"></optgroup><optgroup label="Sites"></optgroup><optgroup label="Templates"></optgroup><optgroup label="Themes"></optgroup><optgroup label="Tutorials"></optgroup></select>
				<div class="clear"></div>
			</div>
			
				<div class="second">
					<ol class="plain push-left block reset">
					<li class="reset selected"><a href="/servant/read/servant/themes/scripts/">Scripts</a></li><li class="reset"><a href="/servant/read/servant/themes/stylesheets/">Stylesheets</a></li>
					</ol>
					<div class="clear"></div>
				</div>
			
			<div class="clear"></div>
		</div>
		
		<div class="buffer" id="content">
			<div class="contentarea">
				
					<h1>Scripts</h1>
					<p>These PHP helpers are available when writing actions. They are declared in <code>backend/helpers/</code>.</p>

<table>

    <tr>
        <th colspan="3">Arrays</th>
    </tr>

    <tr>
        <th class="discreet">Function</th>
        <th class="discreet">Example</th>
    </tr>

    <tr>
        <td><code>array_flatten($array)</code><br />Flattens an array. The result is an array with no child arrays. Original keys are removed, the result array has numerical indexes.</td>
        <td><pre><code></code></pre></td>
    </tr>

    <tr>
        <td><code>to_array($original)</code><br />Make sure a variable is an array, convert if needed</td>
        <td><pre><code></code></pre></td>
    </tr>

    <tr>
        <td><code>limplode($glue, $array, $last = false)</code><br />Allow giving a different last glue for implode</td>
        <td><pre><code></code></pre></td>
    </tr>



    <tr>
        <th colspan="3">Debugging</th>
    </tr>

    <tr>
        <td><code>debug($value)</code><br />Dump stuff into log</td>
        <td><pre><code>debug($paths)</code></pre></td>
    </tr>



    <tr>
        <th colspan="3">Files</th>
    </tr>

    <tr>
        <td><code>glob_dir($path = '')</code><br /></td>
        <td><pre><code></code></pre></td>
    </tr>

    <tr>
        <td><code>glob_files($path = '', $filetypes = array())</code><br /></td>
        <td><pre><code></code></pre></td>
    </tr>

    <tr>
        <td><code>rglob($path = '', $pattern = '*', $flags = 0)</code><br /></td>
        <td><pre><code></code></pre></td>
    </tr>

    <tr>
        <td><code>rglob_dir($path = '')</code><br /></td>
        <td><pre><code></code></pre></td>
    </tr>

    <tr>
        <td><code>rglob_files($path = '', $filetypes = array())</code><br /></td>
        <td><pre><code></code></pre></td>
    </tr>

    <tr>
        <td><code>rrmdir($directory)</code><br /></td>
        <td><pre><code>Recursively empty and remove a directory.</code></pre></td>
    </tr>



    <tr>
        <th colspan="3">Strings</th>
    </tr>

    <tr>
        <td><code>start_with($string, $start = '')</code><br />Make sure initial characters of a string are what they need to be.</td>
        <td><pre><code>$string = 'some/path/from/somewhere';
$string = start_with($string, '/');    // a slash added: '/some/path/from/somewhere'
$string = start_with($string, '/');    // still '/some/path/from/somewhere'</code></pre></td>
    </tr>

    <tr>
        <td><code>dont_start_with($string, $start = '')</code><br />Make sure initial characters of a string are <strong>not</strong> what they shouldn't to be.</td>
        <td><pre><code>$string = 'http://eiskis.net/proot/guides/';
$string = dont_start_with($string, 'http://');    // 'eiskis.net/proot/guides/'
$string = dont_start_with($string, 'http://');    // still 'eiskis.net/proot/guides/'</code></pre></td>
    </tr>

    <tr>
        <td><code>end_with($string, $end = '')</code><br />Make sure the final characters of a string are what they need to be.</td>
        <td><pre><code></code></pre></td>
    </tr>

    <tr>
        <td><code>dont_end_with($string, $end = '')</code><br />Make sure the final characters of a string are <strong>not</strong> what they shouldn't to be.</td>
        <td><pre><code></code></pre></td>
    </tr>

    <tr>
        <td><code>detect($string, $mode = 'type')</code><br /></td>
        <td><pre><code></code></pre></td>
    </tr>

    <tr>
        <td><code>shorthand_decode($string)</code><br />Decodes a string into an array.</td>
        <td><pre><code>shorthand_decode('some value;1,2;key:Value,anotherKey:Another value');
/* array(
    0 => 'Some value',
    1 => array(
        0 => 100,
        1 => 400
    ),
    2 => array(
        'key' => 'Value',
        'anotherKey' => 'Another value'
    )
) */</code></pre></td>
    </tr>

    <tr>
        <td><code>cachename_encode($data)</code><br />Generate a non-human-readable, unique string for arbitrary data. Original data is serialized, with order preserved but keys dropped.</td>
        <td><pre><code></code></pre></td>
    </tr>

    <tr>
        <td><code>cachename_decode($string)</code><br />Decode the aforementioned back to original data. Possible keys of original data are not restored.</td>
        <td><pre><code></code></pre></td>
    </tr>



    <tr>
        <th colspan="3">Validations</th>
    </tr>

    <tr>
        <td><code>normalize($value, $type)</code><br />Interpret intent of input value and attempt to convert into desired type.</td>
        <td><pre><code>normalize('some string', 'array');          // array('some string')
normalize(array(1, 2, 3), 'array');         // array(1, 2, 3)
normalize(array(1, 2, 3), 'string');        // '1, 2, kolme'</code></pre></td>
    </tr>

    <tr>
        <td><code>validate($name, $schema, $input)</code><br />Test an input value against a validation schema.</td>
        <td><pre><code></code></pre></td>
    </tr>

    <tr>
        <td><code>run_validations($input, $schemas)</code><br />Run validate() for a set of values and schemas.</td>
        <td><pre><code></code></pre></td>
    </tr>

</table>

				<h4><strong>Developer stuff</strong></h4>
				<pre>

array (
  'actions' => 
  array (
    0 => 'read',
  ),
  'articles' => 
  array (
    'about' => 'sites/servant/about.md',
    'backend' => 
    array (
      'caching' => 'sites/servant/backend/caching.md',
      'classes' => 'sites/servant/backend/classes.md',
      'settings' => 'sites/servant/backend/settings.md',
    ),
    'get-started' => 'sites/servant/get-started.md',
    'sites' => 
    array (
      'app-packages' => 'sites/servant/sites/app-packages.md',
      'manifest-example' => 'sites/servant/sites/manifest-example.json',
      'urls' => 'sites/servant/sites/urls.md',
      'using-backend' => 'sites/servant/sites/using-backend.md',
    ),
    'templates' => 
    array (
      'basics' => 'sites/servant/templates/basics.md',
    ),
    'themes' => 
    array (
      'scripts' => 'sites/servant/themes/scripts.md',
      'stylesheets' => 'sites/servant/themes/stylesheets.php',
    ),
    'tutorials' => 
    array (
      'customization' => 'sites/servant/tutorials/customization.md',
      'first-site' => 'sites/servant/tutorials/first-site.md',
      'installation' => 'sites/servant/tutorials/installation.md',
    ),
  ),
  'contentTypes' => 
  array (
    0 => 'txt',
    1 => 'html',
    2 => 'xhtml',
    3 => 'json',
    4 => 'csv',
    5 => 'js',
    6 => 'css',
    7 => 'xml',
    8 => 'rss',
    9 => 'pdf',
    10 => 'zip',
    11 => 'gif',
    12 => 'jpg',
    13 => 'png',
    14 => 'svg',
    15 => 'tif',
    16 => 'mpg',
    17 => 'eot',
    18 => 'otf',
    19 => 'ttf',
    20 => 'woff',
  ),
  'patterns' => 
  array (
    0 => 'base64',
    1 => 'contentType',
    2 => 'safename',
    3 => 'filename',
    4 => 'path',
    5 => 'filepath',
    6 => 'url',
    7 => 'email',
    8 => 'ip',
  ),
  'sites' => 
  array (
    0 => 'home',
    1 => 'proot',
    2 => 'servant',
  ),
  'statusCodes' => 
  array (
    0 => 100,
    1 => 101,
    2 => 102,
    3 => 200,
    4 => 202,
    5 => 203,
    6 => 204,
    7 => 205,
    8 => 206,
    9 => 207,
    10 => 208,
    11 => 250,
    12 => 226,
    13 => 300,
    14 => 301,
    15 => 302,
    16 => 303,
    17 => 304,
    18 => 305,
    19 => 306,
    20 => 307,
    21 => 308,
    22 => 400,
    23 => 401,
    24 => 402,
    25 => 403,
    26 => 404,
    27 => 405,
    28 => 406,
    29 => 407,
    30 => 408,
    31 => 409,
    32 => 410,
    33 => 411,
    34 => 412,
    35 => 413,
    36 => 414,
    37 => 415,
    38 => 416,
    39 => 417,
    40 => 418,
    41 => 420,
    42 => 422,
    43 => 423,
    44 => 424,
    45 => 425,
    46 => 426,
    47 => 428,
    48 => 429,
    49 => 431,
    50 => 444,
    51 => 449,
    52 => 450,
    53 => 451,
    54 => 452,
    55 => 453,
    56 => 454,
    57 => 455,
    58 => 456,
    59 => 457,
    60 => 458,
    61 => 459,
    62 => 460,
    63 => 461,
    64 => 462,
    65 => 494,
    66 => 495,
    67 => 496,
    68 => 497,
    69 => 499,
    70 => 500,
    71 => 501,
    72 => 502,
    73 => 503,
    74 => 504,
    75 => 505,
    76 => 506,
    77 => 507,
    78 => 508,
    79 => 509,
    80 => 510,
    81 => 511,
    82 => 551,
    83 => 598,
    84 => 599,
  ),
  'templates' => 
  array (
    0 => 'default',
    1 => 'proot',
  ),
  'themes' => 
  array (
    0 => 'default',
    1 => 'proot',
  ),
)


</pre>
				<div class="clear"></div>
			</div>
		</div>

	</body>
</html>
