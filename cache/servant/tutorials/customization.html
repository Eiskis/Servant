
<!DOCTYPE html>
<html>
	<head>

		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<style type="text/css">@-ms-viewport{width: device-width;}</style>

		<title>Servant</title>
		<link rel="shortcut icon" href="/servant/themes/default/servant.ico" type="image/x-icon"><link rel="stylesheet" href="/servant/themes/default/_reset.css" media="screen"><link rel="stylesheet" href="/servant/themes/default/defaults.css" media="screen"><link rel="stylesheet" href="/servant/themes/default/look.css" media="screen"><link rel="stylesheet" href="/servant/themes/default/mainmenu.css" media="screen"><link rel="stylesheet" href="/servant/themes/default/text.css" media="screen">
	</head>

	<body class="tutorials customization">

		<div id="mainmenu">

			<div class="first">
				<ol class="plain push-left block reset"><li class="reset"><a href="/servant/read/servant/about/">About</a></li><li class="reset"><a href="/servant/read/servant/backend/">Backend</a></li><li class="reset"><a href="/servant/read/servant/get-started/">Get started</a></li><li class="reset"><a href="/servant/read/servant/sites/">Sites</a></li><li class="reset"><a href="/servant/read/servant/templates/">Templates</a></li><li class="reset"><a href="/servant/read/servant/themes/">Themes</a></li><li class="selected"><a href="/servant/read/servant/tutorials/"><strong>Tutorials</strong></a></li></ol><select class="hidden" onchange="window.open(this.options[this.selectedIndex].value,'_top')"><optgroup label="About"></optgroup><optgroup label="Backend"></optgroup><optgroup label="Get started"></optgroup><optgroup label="Sites"></optgroup><optgroup label="Templates"></optgroup><optgroup label="Themes"></optgroup><optgroup label="Tutorials"></optgroup></select>
				<div class="clear"></div>
			</div>
			
				<div class="second">
					<ol class="plain push-left block reset">
					<li class="reset selected"><a href="/servant/read/servant/tutorials/customization/">Customization</a></li><li class="reset"><a href="/servant/read/servant/tutorials/first-site/">First site</a></li><li class="reset"><a href="/servant/read/servant/tutorials/installation/">Installation</a></li>
					</ol>
					<div class="clear"></div>
				</div>
			
			<div class="clear"></div>
		</div>
		
		<div class="buffer" id="content">
			<div class="contentarea">
				
					<h1>Customization</h1>
					<h4><strong>Continue only when you <a href="/servant/sites/servant/tutorials/?category=tutorials&amp;id=setup-walkthrough">have Proot up and running</a>.</strong></h4>

<p>So: Proot takes an <em>app package</em>, which is a directory under <code>apps/</code> and delivers its contents to a browser. App package contains HTML, CSS and JS files, and other assets like images, like any web app. So that's what we're going to create!</p>

<h2>Create the app package</h2>

<p>Create a new directory under <code>apps/</code>, with a name of your choosing. This will be the ID of your app (visible in the URL), so <strong>don't use spaces, underscores, dashes or other special characters</strong>.</p>

<p>You can now open the app in your browser (<a href="http://localhost/path/to/proot/yourapp/">http://localhost/path/to/proot/yourapp/</a>). You should see a blank page: your app doesn't actually do anything beyond existing, since you didn't write any code &ndash; that's what you'd expect right?</p>

<p>If you mistyped the name of your app in the URL, you should see an error message telling you which apps are available. You can try that too &ndash; that's what Proot's error pages look like.</p>

<h2>Add a base template</h2>

<p>You probably want to add some HTML! Create any <code>.html</code> file in the root of your app package, and write something like this in it.</p>

<h4><code>apps/yourapp/whatever.html</code></h4>

<pre><code>&lt;h1&gt;This is my app&lt;/h1&gt;
&lt;p&gt;And its name is foo&lt;/p&gt;
&lt;p&gt;And it runs on &lt;a href="http://eiskis.net/proot/"&gt;Proot&lt;/a&gt;&lt;/p&gt;
</code></pre>

<p>Now, if you reload the app, the above HTML will be printed out. Very straightforward.</p>

<p>If you look at page source, you can see that Proot added HTML headers, but <code>&lt;body&gt;</code> is all you.</p>

<h2>Add styles</h2>

<p>Again, simply add any <code>.css</code> file to the root:</p>

<h4><code>apps/yourapp/whatever.css</code></h4>

<pre><code>body {
    margin: 0 auto;
    padding: 5%;
    max-width: 35em;
    background-color: #212626;
    color: #f3f2f2;
    font-family: sans-serif;
}
a {
    color: #0080bf;
}
</code></pre>

<p>Now, if you reload the app, you have the same template as before, but it's not as ugly as your browser made it look like.</p>

<p>If you look at page source, you'll see that the document refers to an external stylesheet. Open it, and you'll find your styles.</p>

<h2>Add a script</h2>

<p>Continuing on the same path, after structure and styles comes behavior. Proot encourages you to write living interfaces, not just static pages! Start by adding a file named <code>app.js</code> to the root of your app package and write some JavaScript:</p>

<h4><code>apps/yourapp/app.js</code></h4>

<pre><code>alert('My app makes alerts :&lt;');
</code></pre>

<p>This is your app's <em>launch method</em>. What you write here is executed when a user loads your app in a browser. So now you'll be seeing an annoying alert popup every time you load the app.</p>

<p>Proot gives us the <code>app</code> object that you can use in your scripts. So let's do something less annoying with it:</p>

<h4><code>apps/yourapp/app.js</code></h4>

<pre><code>console.log(app);
</code></pre>

<p>Now you will see the object turn up in the developer console of your browser, where you can investigate its contents. For example, each app has an ID (the name of the app directory) which is included as <code>app.id</code>. If you want the alerts back, you can write:</p>

<h4><code>apps/yourapp/app.js</code></h4>

<pre><code>alert(app.id);
</code></pre>

<p>...to prompt the user with the name of your app, whatever that is.</p>

<p><strong>Note:</strong> If you're used to <code>window.onload()</code> or <code>$(document).ready()</code>, you do not have to write that here. Proot will wrap your code into a launch method and execute it after the document has loaded for you.</p>

<h3>Plugins and libraries</h3>

<p>You probably want to use some JS libraries like jQuery, stylesheets packs or other plugins in your apps. This is very easy, but first we need something we don't have yet.</p>

<h2>App manifest</h2>

<p><code>app.json</code> is a file in your app directory's root that includes meta information and settings as well as declares external plugins to be loaded. To add the usual things, create the file:</p>

<h4><code>apps/yourapp/app.json</code></h4>

<pre><code>{
    "meta": {
        "name": "Your app",
        "description": "This is the app that makes alerts",
        "author": "You",
        "icon": "app.ico"
    },
    "tools": [
        "libraries/jquery.js"
    ],
    "settings": {
        "favoriteFood": "Kebab."
    }
}
</code></pre>

<p>Here's what you did:</p>

<ul>
<li>You gave your app proper meta information, and also a favicon &ndash; add <code>app.ico</code> to your app package to see it.</li>
<li>You told Proot what tools you want to use from <code>tools/</code>. You can add more files or directories later, and also external URLs.</li>
<li>You also added custom settings. Now you can use <code>app.settings.favoriteFood</code> in <code>app.js</code>.</li>
</ul>

<p>Remember, this needs to be valid JSON, but Proot will give you an error of you mess it up.</p>

<h2>Recap</h2>

<p>So, now you should have:</p>

<h4><code>apps/yourapp/</code></h4>

<pre><code>app.js
app.json
whatever.css
whatever.html
</code></pre>

<p>And in your browser you'll see pretty much what you'd expect:</p>

<ul>
<li>Meta information is appropriately added to within the HTML document's <code>&lt;head&gt;</code>.</li>
<li>Your <em>structure</em> appears within the HTML document's <code>&lt;body&gt;</code>.</li>
<li>Browser gets whatever styles you defined, as one stylesheet.</li>
<li>Your scripts are executed when the page is loaded.</li>
</ul>

				<h4><strong>Developer stuff</strong></h4>
				<pre>

array (
  'actions' => 
  array (
    0 => 'read',
  ),
  'articles' => 
  array (
    'about' => 'sites/servant/about.md',
    'backend' => 
    array (
      'caching' => 'sites/servant/backend/caching.md',
      'classes' => 'sites/servant/backend/classes.md',
      'settings' => 'sites/servant/backend/settings.md',
    ),
    'get-started' => 'sites/servant/get-started.md',
    'sites' => 
    array (
      'app-packages' => 'sites/servant/sites/app-packages.md',
      'manifest-example' => 'sites/servant/sites/manifest-example.json',
      'urls' => 'sites/servant/sites/urls.md',
      'using-backend' => 'sites/servant/sites/using-backend.md',
    ),
    'templates' => 
    array (
      'basics' => 'sites/servant/templates/basics.md',
    ),
    'themes' => 
    array (
      'scripts' => 'sites/servant/themes/scripts.md',
      'stylesheets' => 'sites/servant/themes/stylesheets.php',
    ),
    'tutorials' => 
    array (
      'customization' => 'sites/servant/tutorials/customization.md',
      'first-site' => 'sites/servant/tutorials/first-site.md',
      'installation' => 'sites/servant/tutorials/installation.md',
    ),
  ),
  'contentTypes' => 
  array (
    0 => 'txt',
    1 => 'html',
    2 => 'xhtml',
    3 => 'json',
    4 => 'csv',
    5 => 'js',
    6 => 'css',
    7 => 'xml',
    8 => 'rss',
    9 => 'pdf',
    10 => 'zip',
    11 => 'gif',
    12 => 'jpg',
    13 => 'png',
    14 => 'svg',
    15 => 'tif',
    16 => 'mpg',
    17 => 'eot',
    18 => 'otf',
    19 => 'ttf',
    20 => 'woff',
  ),
  'patterns' => 
  array (
    0 => 'base64',
    1 => 'contentType',
    2 => 'safename',
    3 => 'filename',
    4 => 'path',
    5 => 'filepath',
    6 => 'url',
    7 => 'email',
    8 => 'ip',
  ),
  'sites' => 
  array (
    0 => 'home',
    1 => 'proot',
    2 => 'servant',
  ),
  'statusCodes' => 
  array (
    0 => 100,
    1 => 101,
    2 => 102,
    3 => 200,
    4 => 202,
    5 => 203,
    6 => 204,
    7 => 205,
    8 => 206,
    9 => 207,
    10 => 208,
    11 => 250,
    12 => 226,
    13 => 300,
    14 => 301,
    15 => 302,
    16 => 303,
    17 => 304,
    18 => 305,
    19 => 306,
    20 => 307,
    21 => 308,
    22 => 400,
    23 => 401,
    24 => 402,
    25 => 403,
    26 => 404,
    27 => 405,
    28 => 406,
    29 => 407,
    30 => 408,
    31 => 409,
    32 => 410,
    33 => 411,
    34 => 412,
    35 => 413,
    36 => 414,
    37 => 415,
    38 => 416,
    39 => 417,
    40 => 418,
    41 => 420,
    42 => 422,
    43 => 423,
    44 => 424,
    45 => 425,
    46 => 426,
    47 => 428,
    48 => 429,
    49 => 431,
    50 => 444,
    51 => 449,
    52 => 450,
    53 => 451,
    54 => 452,
    55 => 453,
    56 => 454,
    57 => 455,
    58 => 456,
    59 => 457,
    60 => 458,
    61 => 459,
    62 => 460,
    63 => 461,
    64 => 462,
    65 => 494,
    66 => 495,
    67 => 496,
    68 => 497,
    69 => 499,
    70 => 500,
    71 => 501,
    72 => 502,
    73 => 503,
    74 => 504,
    75 => 505,
    76 => 506,
    77 => 507,
    78 => 508,
    79 => 509,
    80 => 510,
    81 => 511,
    82 => 551,
    83 => 598,
    84 => 599,
  ),
  'templates' => 
  array (
    0 => 'default',
    1 => 'proot',
  ),
  'themes' => 
  array (
    0 => 'default',
    1 => 'proot',
  ),
)


</pre>
				<div class="clear"></div>
			</div>
		</div>

	</body>
</html>
